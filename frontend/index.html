<!doctype html>
<html lang="pt-BR" data-bs-theme="auto">

<head>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SENAI TCCs</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

    <style>
        .carousel-item img {
            width: 100%;
            height: 500px;
            object-fit: cover;
        }

        .top-bar {
            background-color: #ff1900;
            color: #fff;
        }

        .top-bar .redes-sociais a {
            color: #fff;
            margin-right: 10px;
        }


        section {
            padding: 30px 0;
        }

        section img {
            width: 90%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 8px;
        }

        .back-to-top {
            display: inline-block;
            padding: 10px 20px;
            font-size: 1rem;
            background-color: #ff0000;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 20px;
            text-align: center;
        }

        .back-to-top:hover {
            background-color: #9b0606;
        }

        .section-divider {
            margin: 20px auto;
            border-top: 2px solid #ccc;
            width: 80%;
        }

        .carousel {
            margin-bottom: 10px;
        }

        .top-bar {
            background-color: #ff1900;
            color: #fff;
            width: 100%;
        }

        .redes-sociais a {
            color: #fff;
            margin-right: 15px;
            /* Espaço entre os ícones */
            font-size: 1.2rem;
            /* Tamanho dos ícones */
        }

        .redes-sociais {
            padding: 5px 0;
            /* Espaçamento vertical */
        }
    </style>
</head>

<body>
    <header>
        <!-- Top Bar Modificada -->
        <div class="top-bar py-1" style="background-color: #ff1900;">
            <div class="container-fluid d-flex justify-content-between align-items-center">
                <div class="redes-sociais ms-3">
                    <a href="https://www.facebook.com/senaisaopaulo/?locale=pt_BR"><i class="bi bi-facebook"></i></a>
                    <a href="https://www.instagram.com/senai.sp/"><i class="bi bi-instagram"></i></a>
                    <a href="https://www.youtube.com/channel/UCzqd0VpWU_w4BKwmSvFdieQ"><i class="bi bi-youtube"></i></a>
                </div>
                <div id="auth-container">
                </div>
            </div>
        </div>
        <!-- Navbar -->

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" href="TelaPrincipal.html">Início</a></li>
                    <li class="nav-item"><a class="nav-link" href="buscar_tcc.html">TCCS</a></li>
                    <li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
                </ul>


                <a class="navbar-brand" href="#">
                    <img src="Logo.png" alt="SENAI" height="40">
                </a>
            </div>
        </nav>
    </header>

    <main>
        <!-- Carrossel -->
        <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="https://media.licdn.com/dms/image/v2/C4D1BAQGda9UodPC36A/company-background_10000/company-background_10000/0/1613485135605/senaidiadema_cover?e=2147483647&v=beta&t=vhISlkVS4zWCgLa_4OY697UqZ5Wc1OKaVx-DuUarQ3E"
                        class="d-block w-100" alt="Imagem do SENAI 1">
                </div>
                <div class="carousel-item">
                    <img src="https://i.makeagif.com/media/7-05-2021/3VMxJI.gif" class="d-block w-100"
                        alt="Imagem do SENAI 2">
                </div>
                <div class="carousel-item">
                    <img src="https://media.licdn.com/dms/image/v2/D4D1BAQFknofuOJsJ-Q/company-background_10000/company-background_10000/0/1658493207949/senai_solues_digitais_cover?e=2147483647&v=beta&t=tm1oWeWoD7iY5KGSVRm32L-gDLeWCZFFiDMN_F_kQeA"
                        class="d-block w-100" alt="Imagem do SENAI 3">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Anterior</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Próximo</span>
            </button>
        </div>

        <hr class="section-divider">


        <!-- Seção 1 -->
        <section class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h3>Infraestrutura de Produção</h3>
                    <p>Utilizamos tecnologias modernas como MySQL para o gerenciamento eficiente do banco de dados e
                        Express.js no backend, proporcionando uma experiência ágil, estável e segura aos usuários.</p>
                </div>
                <div class="col-md-6">
                    <img src="https://senaies.com.br/wp-content/uploads/2019/06/IMG_1219.jpg" alt="Produção">
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Seção 2 -->
        <section class="container">
            <div class="row align-items-center flex-md-row-reverse">
                <div class="col-md-6">
                    <h3>Detalhes do Projeto</h3>
                    <p>Nosso site permite que alunos e professores explorem TCCs de diferentes cursos, buscando
                        por temas específicos e acessando os conteúdos de maneira prática. O sistema conta com um
                        mecanismo
                        de aprovação para garantir a qualidade dos trabalhos publicados.</p>
                </div>
                <div class="col-md-6">
                    <img src="https://i0.wp.com/www2.tatui.sp.gov.br/wp-content/uploads/2022/04/ELETRICISTA-INSTALADOR.png?fit=1109%2C753&ssl=1"
                        alt="Projeto">
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Seção 3 -->
        <section class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h3>Quem Somos</h3>
                    <p>Somos um grupo de estudantes do SENAI desenvolvendo um projeto inovador para organizar e
                        exibir todos os TCCs já realizados na unidade. Nosso objetivo é facilitar o acesso aos trabalhos
                        acadêmicos, proporcionando uma plataforma intuitiva e organizada para alunos e professores.</p>
                </div>
                <div class="col-md-6">
                    <img src="https://www.sesirs.org.br/sites/default/files/styles/2x1_lg/public/fc-carousel/microsoftteams-image_10_0.png?itok=rIwxnI7h&c=52f74b64ad343ed6dcc4094d709068a0"
                        alt="Sobre Nós">
                </div>
            </div>
        </section>

        <div class="text-center">
            <a href="#top" class="back-to-top">Voltar para o topo</a>
        </div>

        <hr class="section-divider">
    </main>

    <footer class="bg-dark text-light py-3">
        <div class="container text-center">
            <p>&copy; 2025 SENAI - Todos os direitos reservados</p>
        </div>
    </footer>
    <script>
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('usuario');
            // Redireciona para a tela inicial após o logout
            window.location.href = 'TelaPrincipal.html';
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Encontra o contêiner de autenticação
            const authContainer = document.getElementById('auth-container');

            // Só executa se o contêiner existir nesta página
            if (authContainer) {
                const token = localStorage.getItem('token');
                const usuario = JSON.parse(localStorage.getItem('usuario'));

                if (token && usuario) {
                    // Usuário logado:
                    authContainer.innerHTML = `
                    <div class="dropdown me-3">
                        <a class="nav-link dropdown-toggle text-white d-flex align-items-center" href="#" id="navbarDropdownAuth" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-person-circle" style="font-size: 1.5rem;"></i>
                            <span class="ms-2 d-none d-lg-block">${usuario.nome}</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownAuth">
                            <li><span class="dropdown-item-text">Logado como: <strong>${usuario.nome}</strong></span></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Meu Perfil</a></li>
                            <li><a class="dropdown-item" href="#">Meus TCCs Salvos</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><button class="dropdown-item" onclick="logout()">Sair</button></li>
                        </ul>
                    </div>
                `;
                } else {
                    // Usuário não logado:
                    authContainer.innerHTML = `
                    <div class="me-3">
                        <a href="login.html" class="nav-link text-white">
                            <i class="bi bi-person-circle" style="font-size: 1.5rem;"></i>
                        </a>
                    </div>
                `;
                }
            }
        });
         // ========== CHATBOT ========== //
    const chatButton = document.getElementById('chatbot-button');
    const chatWindow = document.getElementById('chat-window');
    const chatLog = document.getElementById('chat-log');
    const userInput = document.getElementById('user-input');
    const sendButton = document.getElementById('send-button');
  
    // Funções auxiliares
    function addMessage(sender, text) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `chat-message ${sender}`;
      messageDiv.innerHTML = `<div class="message-bubble">${text}</div>`;
      chatLog.appendChild(messageDiv);
      chatLog.scrollTop = chatLog.scrollHeight;
    }
  
    function showTypingIndicator() {
      const typingDiv = document.createElement('div');
      typingDiv.id = 'typing-indicator';
      typingDiv.className = 'chat-message bot';
      typingDiv.innerHTML = `
        <div class="message-bubble typing">
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
      `;
      chatLog.appendChild(typingDiv);
      chatLog.scrollTop = chatLog.scrollHeight;
    }
  
    function hideTypingIndicator() {
      const typingDiv = document.getElementById('typing-indicator');
      if (typingDiv) typingDiv.remove();
    }
  
    // Event Listeners
    chatButton.addEventListener('click', () => {
      chatWindow.style.display = chatWindow.style.display === 'flex' ? 'none' : 'flex';
      if (chatWindow.style.display === 'flex') {
        userInput.focus();
      }
    });
  
    async function sendMessage() {
      const message = userInput.value.trim();
      if (!message) return;
      
      addMessage('user', message);
      userInput.value = '';
      showTypingIndicator();
      
      try {
        const response = await fetch('https://backend-tcc-bwya.onrender.com/api/chat', {
          method: 'POST',
          headers: { 
            'Content-Type': 'application/json',
            'Accept': 'application/json'
          },
          body: JSON.stringify({ message })
        });
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        addMessage('bot', data.response);
      } catch (error) {
        console.error("Erro na requisição:", error);
        addMessage('bot', "Erro ao conectar com o servidor. Verifique se o servidor está rodando.");
      } finally {
        hideTypingIndicator();
      }
    }
  
    sendButton.addEventListener('click', sendMessage);
    userInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') sendMessage();
    });
  
    // Delegation para botões dinâmicos
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('btn-chatbot')) {
        const local = e.target.getAttribute('data-local');
        userInput.value = `Conte mais sobre ${local}`;
        chatWindow.style.display = 'flex';
        userInput.focus();
      }
    });
    </script>
</body>


</html>

